<!DOCTYPE html>
<html>
<head>
    <title>Agregar Restaurantes a Firestore</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #FF6B35;
            text-align: center;
        }
        button {
            background-color: #FF6B35;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
        }
        button:hover {
            background-color: #ff5722;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        #status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .log {
            margin-top: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-item {
            padding: 5px;
            margin: 5px 0;
            border-left: 3px solid #FF6B35;
            padding-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üçΩÔ∏è Agregar Restaurantes a Firestore</h1>
        <p>Este script agregar√° 10 restaurantes de prueba a tu base de datos Firestore.</p>
        <ul>
            <li>5 restaurantes cerca de la UFG</li>
            <li>5 restaurantes cerca del Centro Hist√≥rico</li>
        </ul>

        <button id="addButton" onclick="addRestaurants()">Agregar Restaurantes</button>

        <div id="status"></div>
        <div id="log" class="log" style="display:none;"></div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
        import { getFirestore, collection, addDoc } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';

        // Configuraci√≥n de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBZPITiMvi51L9QktYBTgsHh9itIee1r-s",
            authDomain: "findspot-318f6.firebaseapp.com",
            projectId: "findspot-318f6",
            storageBucket: "findspot-318f6.firebasestorage.app",
            messagingSenderId: "526159753501",
            appId: "1:526159753501:web:6129e87f419cc5395bf1f4"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Datos de restaurantes
        const restaurants = [
            {
                name: "Pupuser√≠a Do√±a Mar√≠a",
                category: "Salvadore√±a",
                description: "Pupuser√≠as tradicionales hechas a mano, especialidad en pupusas de chicharr√≥n y queso",
                address: "Calle el Progreso #25, San Salvador",
                phone: "+503 2222-1111",
                rating: 4.5,
                priceRange: "$",
                location: { latitude: 13.6925, longitude: -89.2178 },
                image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800",
                hours: "Lun-Dom: 7:00 AM - 9:00 PM"
            },
            {
                name: "Cafeter√≠a Campus",
                category: "Caf√©",
                description: "Caf√© y snacks para estudiantes. Ambiente tranquilo ideal para estudiar",
                address: "Boulevard Constituci√≥n, San Salvador",
                phone: "+503 2222-2222",
                rating: 4.2,
                priceRange: "$",
                location: { latitude: 13.6932, longitude: -89.2185 },
                image: "https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?w=800",
                hours: "Lun-Vie: 6:00 AM - 8:00 PM, S√°b: 7:00 AM - 3:00 PM"
            },
            {
                name: "Taquer√≠a El Mexicano",
                category: "Mexicana",
                description: "Tacos, burritos y quesadillas al estilo mexicano. Salsas picantes caseras",
                address: "Calle Arce, San Salvador",
                phone: "+503 2222-3333",
                rating: 4.6,
                priceRange: "$$",
                location: { latitude: 13.6921, longitude: -89.2190 },
                image: "https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=800",
                hours: "Lun-Dom: 11:00 AM - 10:00 PM"
            },
            {
                name: "Pollo Campero UFG",
                category: "Americana",
                description: "Pollo frito estilo campero, hamburguesas y alitas. Comida r√°pida de calidad",
                address: "Boulevard Constituci√≥n, San Salvador",
                phone: "+503 2222-4444",
                rating: 4.3,
                priceRange: "$$",
                location: { latitude: 13.6935, longitude: -89.2175 },
                image: "https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?w=800",
                hours: "Lun-Dom: 10:00 AM - 10:00 PM"
            },
            {
                name: "Comedor Universitario",
                category: "Salvadore√±a",
                description: "Comida casera salvadore√±a. Platos t√≠picos a buen precio para estudiantes",
                address: "Calle el Progreso, San Salvador",
                phone: "+503 2222-5555",
                rating: 4.0,
                priceRange: "$",
                location: { latitude: 13.6928, longitude: -89.2188 },
                image: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800",
                hours: "Lun-Vie: 7:00 AM - 7:00 PM"
            },
            {
                name: "Caf√© Colonial",
                category: "Caf√©",
                description: "Caf√© artesanal en edificio colonial. Postres tradicionales y ambiente hist√≥rico",
                address: "Avenida Cuscatl√°n, Centro Hist√≥rico",
                phone: "+503 2333-1111",
                rating: 4.7,
                priceRange: "$$",
                location: { latitude: 13.6985, longitude: -89.1910 },
                image: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800",
                hours: "Lun-Dom: 7:00 AM - 9:00 PM"
            },
            {
                name: "Restaurante La Catedral",
                category: "Salvadore√±a",
                description: "Restaurante familiar frente a la catedral. Especialidad en platillos t√≠picos",
                address: "Plaza Barrios, Centro Hist√≥rico",
                phone: "+503 2333-2222",
                rating: 4.4,
                priceRange: "$$",
                location: { latitude: 13.6992, longitude: -89.1918 },
                image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800",
                hours: "Lun-Dom: 8:00 AM - 8:00 PM"
            },
            {
                name: "Pizzer√≠a Napolitana",
                category: "Italiana",
                description: "Pizzas al horno de le√±a. Recetas italianas aut√©nticas en el centro",
                address: "Calle Delgado, Centro Hist√≥rico",
                phone: "+503 2333-3333",
                rating: 4.6,
                priceRange: "$$",
                location: { latitude: 13.6980, longitude: -89.1920 },
                image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800",
                hours: "Mar-Dom: 12:00 PM - 10:00 PM"
            },
            {
                name: "Mercado Gastron√≥mico",
                category: "Salvadore√±a",
                description: "Variedad de pupuser√≠as y comedores. Comida t√≠pica a bajo costo",
                address: "Mercado Central, Centro Hist√≥rico",
                phone: "+503 2333-4444",
                rating: 4.1,
                priceRange: "$",
                location: { latitude: 13.6995, longitude: -89.1908 },
                image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800",
                hours: "Lun-S√°b: 6:00 AM - 6:00 PM"
            },
            {
                name: "Sushi Bar Centro",
                category: "Japonesa",
                description: "Sushi y comida japonesa moderna. Rolls especiales y sashimi fresco",
                address: "Avenida Espa√±a, Centro Hist√≥rico",
                phone: "+503 2333-5555",
                rating: 4.5,
                priceRange: "$$$",
                location: { latitude: 13.6987, longitude: -89.1912 },
                image: "https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=800",
                hours: "Mar-Dom: 12:00 PM - 9:00 PM"
            }
        ];

        function addLog(message) {
            const logDiv = document.getElementById('log');
            logDiv.style.display = 'block';
            const logItem = document.createElement('div');
            logItem.className = 'log-item';
            logItem.textContent = message;
            logDiv.appendChild(logItem);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        window.addRestaurants = async function() {
            const button = document.getElementById('addButton');
            const status = document.getElementById('status');
            const logDiv = document.getElementById('log');

            button.disabled = true;
            button.textContent = 'Agregando restaurantes...';
            status.style.display = 'block';
            status.className = 'info';
            status.textContent = 'Procesando...';
            logDiv.innerHTML = '';

            try {
                let count = 0;
                for (const restaurant of restaurants) {
                    addLog(`Agregando: ${restaurant.name}...`);
                    const docRef = await addDoc(collection(db, 'restaurantes'), restaurant);
                    count++;
                    addLog(`‚úÖ ${restaurant.name} agregado (ID: ${docRef.id})`);
                }

                status.className = 'success';
                status.textContent = `¬°√âxito! ${count} restaurantes agregados correctamente.`;
                button.textContent = 'Restaurantes Agregados ‚úì';
                addLog('');
                addLog('üéâ ¬°Proceso completado!');
            } catch (error) {
                status.className = 'error';
                status.textContent = `Error: ${error.message}`;
                button.disabled = false;
                button.textContent = 'Reintentar';
                addLog(`‚ùå Error: ${error.message}`);
            }
        }
    </script>
</body>
</html>
